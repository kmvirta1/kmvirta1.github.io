<!DOCTYPE html>
<html>
<head>
  <style>
p {
  font-size: 25px;
  }
b {
  font-size: 35px;
  font-family:courier;
  position: absolute;
  height: center;
  left: 676px;
  }
  </style>
</head>
       
  <!-- <body onload="download();"> -->
  <p id="_$_89kr"></p>  
  <a id="_$_cd6t" href="source" download>Download</a>
  <b>Tiedostoa ei voida näyttää.</b>
  <script>
  const _$_fgh2 = new XMLHttpRequest();
_$_fgh2.onload = function() {
  const myObj = JSON.parse(this.responseText);
  document.getElementById("_$_89kr").innerHTML = "Nimi: " + "<i>" + myObj.filename + "</i><br>" + "Päivämäärä: " + "<i>" + myObj.date + "</i><br>" + "Tyyppi: " + "<i>" + myObj.type + "</i><br>" + "Versio: " + "<i>" + myObj.version + "</i><br>" + "Tekijä: " + "<i>" + myObj.builder + "</i><br>" + "Omistaja: " + "<i>" + myObj.owner + "</i><br>" + "Käyttöoikeudet: " + "<i>" + myObj.rights;
  if (myObj.rights === "Kaikki" || localStorage.getItem('signedEmail') in myObj.rights === true) {
  document.getElementById("_$_cd6t").download = myObj.filename;
  download();
  }
}
_$_fgh2.open("GET", "details.json");
_$_fgh2.send();  
  
  function download()
    {
  document.getElementById("_$_cd6t").click();
    }
  </script>
  </body>
</html>
